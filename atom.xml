<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[My Octopress Blog]]></title>
  <link href="http://thycoder.github.io/atom.xml" rel="self"/>
  <link href="http://thycoder.github.io/"/>
  <updated>2016-05-31T11:38:03+08:00</updated>
  <id>http://thycoder.github.io/</id>
  <author>
    <name><![CDATA[Your Name]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Fstab条目顺序问题]]></title>
    <link href="http://thycoder.github.io/blog/2016/05/31/fstabtiao-mu-shun-xu-wen-ti/"/>
    <updated>2016-05-31T10:34:39+08:00</updated>
    <id>http://thycoder.github.io/blog/2016/05/31/fstabtiao-mu-shun-xu-wen-ti</id>
    <content type="html"><![CDATA[<p>以下的fstab文件，大家看有问题吗？
/dev/sdb1     /home/disk0   ext4    defaults    0   0
/dev/sdc1     /home/disk1   ext4    defaults    0   0
/dev/sdd1     /home/disk2   ext4    defaults    0   0
/dev/sde1     /home/disk3   ext4    defaults    0   0
/dev/sdf1     /home/disk4   ext4    defaults    0   0
/dev/sdg1     /home/disk5   ext4    defaults    0   0
/dev/sda6     /home   ext4    defaults    0   0
最后一行是/home，这样mount的时候，会导致前边五条被损坏，因为/home一旦变了位置，它下面的子文件夹也变了位置。
这一点用 parted -l可以看出来：上面6个盘显示的容量跟/home是一模一样的。
解决方案是把fstab改为：
/dev/sdb1     /home/disk0   ext4    defaults    0   0
/dev/sdc1     /home/disk1   ext4    defaults    0   0
/dev/sdd1     /home/disk2   ext4    defaults    0   0
/dev/sde1     /home/disk3   ext4    defaults    0   0
/dev/sdf1     /home/disk4   ext4    defaults    0   0
/dev/sdg1     /home/disk5   ext4    defaults    0   0
/dev/sda6     /home   ext4    defaults    0   0
我执行如下命令：
sed -i -e &lsquo;18a /dev/sda6     /home   ext4    defaults    0   0&rsquo; -e &lsquo;9d&rsquo; fstab
就可以将最后一行删掉，并且插入到第一行。为什么是9d呢？插入第一行之后，要删除的最后一行应该是第8行啊，为啥不是8d？因为根据实践，d命令删除的是x-1行。
修改之后 mount -a 发现还是不对……原来已经mount的分区，不会umount后重新mount，顺序不会变。
所以只好umount /home/disk0 /home/disk1 /home/disk2 /home/disk3 /home/disk4 /home/disk5
然后 mount -a</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hello World]]></title>
    <link href="http://thycoder.github.io/blog/2016/05/30/hello-world/"/>
    <updated>2016-05-30T18:38:07+08:00</updated>
    <id>http://thycoder.github.io/blog/2016/05/30/hello-world</id>
    <content type="html"><![CDATA[<p>Hello!!!你好！！！</p>
]]></content>
  </entry>
  
</feed>
